// Dota2 Editor
// Get latest version: https://github.com/zombieJ/nw-dota2editor

"DOTAAbilities"
{
	"Version"		"1"

	"shelter"
	{
		"BaseClass"	"ability_datadriven"
		"AbilityTextureName"	"tower_armor_aura"
		"AbilityBehavior"	"DOTA_ABILITY_BEHAVIOR_PASSIVE"
		"AbilityUnitTargetType"	"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_ALL"
		"AbilityType"	"DOTA_ABILITY_TYPE_BASIC"
		"Modifiers"
		{
			"modifier_shelter"
			{
				"Duration"	"-1"
				"Passive"	"1"
				"IsHidden"	"1"
				"Aura"	"modifier_shelter_aura"
				"Aura_Radius"	"%radius"
				"Aura_Teams"	"DOTA_UNIT_TARGET_TEAM_FRIENDLY"
				"Aura_Types"	"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_ALL"
				"Properties"	{}
			}
			"modifier_shelter_aura"
			{
				"Duration"	"-1"
				"TextureName"	"tower_armor_aura"
				"IsBuff"	"1"
				"Properties"
				{
					"MODIFIER_PROPERTY_PHYSICAL_ARMOR_BONUS"	"%armor"
					"MODIFIER_PROPERTY_MAGICAL_RESISTANCE_BONUS"	"%resistance"
				}
				"States"	{}
			}
		}
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"	"FIELD_INTEGER"
				"radius"	"700"
			}
			"02"
			{
				"var_type"	"FIELD_FLOAT"
				"armor"	"2.0 3.0 4.0 5.0"
			}
			"03"
			{
				"var_type"	"FIELD_FLOAT"
				"resistance"	"3.0 6.0 9.0 12.0"
			}
		}
	}

	"transport"
	{
		"BaseClass"	"ability_datadriven"
		"AbilityTextureName"	"courier_return_to_base"
		"AbilityBehavior"	"DOTA_ABILITY_BEHAVIOR_PASSIVE"
		"AbilityUnitTargetType"	"DOTA_UNIT_TARGET_HERO"
		"AbilityUnitTargetTeam"	"DOTA_UNIT_TARGET_TEAM_BOTH"
		"AbilityCastRange"	"%radius"
		"Modifiers"
		{
			"modifier_transport"
			{
				"Attributes"	"MODIFIER_ATTRIBUTE_PERMANENT | MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE"
				"Duration"	"-1"
				"Passive"	"1"
				"TextureName"	"courier_return_to_base"
				"IsBuff"	"0"
				"OnIntervalThink"
				{
					"RunScript"
					{
						"Target"
						{
							"Types"	"DOTA_UNIT_TARGET_HERO"
							"Teams"	"DOTA_UNIT_TARGET_TEAM_BOTH"
							"Center"	"CASTER"
							"Radius"	"%radius"
						}
						"ScriptFile"	"scripts/vscripts/transport/transport.lua"
						"Function"	"is_transport"
					}
				}
				"ThinkInterval"	"%interval"
				"IsHidden"	"1"
				"States"
				{
					"MODIFIER_STATE_INVULNERABLE"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_NO_UNIT_COLLISION"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_NO_HEALTH_BAR"	"MODIFIER_STATE_VALUE_ENABLED"
				}
			}
			"modifier_transport_stun"
			{
				"Duration"	"-1"
				"Attributes"	"MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE"
				"IsDebuff"	"1"
				"IsHidden"	"0"
				"States"
				{
					"MODIFIER_STATE_STUNNED"	"MODIFIER_STATE_VALUE_ENABLED"
				}
			}
			"modifier_transport_road_section"
			{
				"Duration"	"-1"
				"Attributes"	"MODIFIER_ATTRIBUTE_PERMANENT | MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE"
				"Passive"	"1"
				"IsHidden"	"1"
				"OnIntervalThink"
				{
					"RunScript"
					{
						"Target"	"CASTER"
						"ScriptFile"	"scripts/vscripts/transport/transport.lua"
						"Function"	"road_section"
					}
				}
				"ThinkInterval"	"%interval"
			}
			"modifier_transport_defend_road_section"
			{
				"Duration"	"%defend_time"
				"Attributes"	"MODIFIER_ATTRIBUTE_PERMANENT | MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE"
				"TextureName"	"courier_return_to_base"
				"IsBuff"	"1"
				"OnIntervalThink"
				{
					"RunScript"
					{
						"Target"	"CASTER"
						"ScriptFile"	"scripts/vscripts/transport/transport.lua"
						"Function"	"is_defend"
					}
				}
				"OnDestroy"
				{
					"RunScript"
					{
						"Target"	"CASTER"
						"ScriptFile"	"scripts/vscripts/transport/transport.lua"
						"Function"	"end_defend"
					}
				}
				"ThinkInterval"	"1.0"
			}
		}
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"	"FIELD_INTEGER"
				"radius"	"800"
			}
			"02"
			{
				"var_type"	"FIELD_FLOAT"
				"interval"	"0.3"
			}
			"03"
			{
				"var_type"	"FIELD_INTEGER"
				"vision_radius"	"300"
			}
			"04"
			{
				"var_type"	"FIELD_FLOAT"
				"defend_time"	"30.0"
			}
		}
	}

	"hero_gold_xp"
	{
		"BaseClass"	"ability_datadriven"
		"AbilityTextureName"	"buyback"
		"AbilityBehavior"	"DOTA_ABILITY_BEHAVIOR_HIDDEN | DOTA_ABILITY_BEHAVIOR_PASSIVE"
		"Modifiers"
		{
			"modifier_hero_gold_xp"
			{
				"Duration"	"-1"
				"Attributes"	"MODIFIER_ATTRIBUTE_PERMANENT | MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE"
				"Passive"	"1"
				"TextureName"	"buyback"
				"IsBuff"	"1"
				"OnIntervalThink"
				{
					"RunScript"
					{
						"Target"	"CASTER"
						"ScriptFile"	"scripts/vscripts/transport/hero_gold_xp.lua"
						"Function"	"get_gold_xp"
					}
				}
				"ThinkInterval"	"0.3"
			}
		}
	}
}
